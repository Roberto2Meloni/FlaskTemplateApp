{% extends "layouts/web_app_layouts/Einkaufsliste_web_app_base.html" %} {% block
content %}
<div class="einkaufsliste-container">
  <div class="page-header">
    <div class="header-content">
      <div class="header-left">
        <h1 class="page-title">
          <i class="bi bi-people-fill"></i>
          Gruppe Erstellen
        </h1>
        <div class="header-info">
          <i class="bi bi-info-circle"></i>
          Erstellen Sie eine neue Einkaufsgruppe
        </div>
      </div>
      <div class="header-right">
        <div class="date-display">
          <i class="bi bi-calendar3"></i>
          <span class="current-date" id="current-date"></span>
        </div>
      </div>
    </div>
  </div>

  {% include "layouts/websites/flash_message.html" %}

  <!-- Form Container -->
  <div class="form-container">
    <div class="form-card">
      <!-- Form Header -->
      <div class="form-header">
        <div class="form-icon-container">
          <i class="form-icon bi bi-people-fill"></i>
        </div>
        <h2 class="form-title">Neue Gruppe erstellen</h2>
        <p class="form-subtitle">
          Geben Sie die Details für Ihre neue Einkaufsgruppe ein
        </p>
      </div>

      <!-- Form Body -->
      <form action="" method="post">
        {{ form.hidden_tag() }}

        <div class="form-body">
          <!-- Gruppenname -->
          <div class="form-group">
            <div class="form-label-container">
              <i class="bi bi-tag-fill"></i>
              {{ form.group_name.label(class_='form-label-modern') }}
            </div>
            <div class="form-input-container">
              {{ form.group_name(class_='form-control-modern', placeholder='z.B.
              Familie Schmidt, WG Musterstraße...') }}
              <i class="form-input-icon bi bi-tag"></i>
            </div>
            <small class="form-help-text"
              >Wählen Sie einen eindeutigen und erkennbaren Namen für Ihre
              Gruppe</small
            >
          </div>

          <!-- Gruppenmitglieder -->
          <div class="card mb-4">
            <div class="card-header bg-light">
              <h5 class="card-title mb-0">Gruppenmitglieder</h5>
            </div>
            <div class="card-body">
              <div class="mb-3">
                {{ form.group_members.label(class="form-label") }}
                <div
                  class="member-checkboxes row row-cols-1 row-cols-md-3 row-cols-lg-4 g-3"
                >
                  {% for user_id, username in form.group_members.choices %}
                  <div class="col">
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="checkbox"
                        name="group_members"
                        id="user_{{ user_id }}"
                        value="{{ user_id }}"
                      />
                      <label class="form-check-label" for="user_{{ user_id }}">
                        {{ username }}
                      </label>
                    </div>
                  </div>
                  {% endfor %}
                </div>
              </div>
            </div>
          </div>

          <!-- Gruppe öffentlich -->
          <div class="form-group">
            <div class="form-checkbox-container">
              <div class="checkbox-wrapper">
                {{ form.group_public(class="form-checkbox-modern") }}
                <label
                  for="{{ form.group_public.id }}"
                  class="checkbox-label-modern"
                >
                  <div class="checkbox-icon">
                    <i class="bi bi-unlock-fill"></i>
                  </div>
                  <div class="checkbox-content">
                    <span class="checkbox-title"
                      >{{ form.group_public.label.text }}</span
                    >
                    <span class="checkbox-description"
                      >Jeder Benutzer kann dieser Gruppe beitreten und auf
                      Einkaufslisten zugreifen</span
                    >
                  </div>
                </label>
              </div>
            </div>
          </div>

          <!-- Gruppe sichtbar -->
          <div class="form-group">
            <div class="form-checkbox-container">
              <div class="checkbox-wrapper">
                {{ form.group_visible(class="form-checkbox-modern") }}
                <label
                  for="{{ form.group_visible.id }}"
                  class="checkbox-label-modern"
                >
                  <div class="checkbox-icon">
                    <i class="bi bi-eye-fill"></i>
                  </div>
                  <div class="checkbox-content">
                    <span class="checkbox-title"
                      >{{ form.group_visible.label.text }}</span
                    >
                    <span class="checkbox-description"
                      >Die Gruppe erscheint in Suchergebnissen und öffentlichen
                      Listen</span
                    >
                  </div>
                </label>
              </div>
            </div>
          </div>
        </div>

        <!-- Form Actions -->
        <div class="form-actions">
          <div class="action-buttons-container">
            <a
              href="{{ url_for('Einkaufsliste.Einkaufsliste_index') }}"
              class="btn-custom btn-cancel"
            >
              <i class="bi bi-x-circle"></i>
              <span class="btn-text">Abbrechen</span>
            </a>
            {{ form.submit(class_='btn-custom btn-success-custom btn-submit') }}
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

{% endblock %} {% block scripts %} {{ super() }}
<script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>

{% endblock %}
